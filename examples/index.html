<!DOCTYPE HTML>
<html>
<head>
  <title>MentionsInput</title>
  <meta http-equiv="content-type" content="text/html;charset=UTF-8"/>
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <link href='https://fonts.googleapis.com/css?family=PT+Sans&subset=latin' rel='stylesheet' type='text/css'>
  <link href='style.css' rel='stylesheet' type='text/css'>
  <link href='../dist/MentionsInput.css' rel='stylesheet' type='text/css'>
  <link href='../dist/SimpleAutoCompleter.css' rel='stylesheet' type='text/css'>
</head>
<body>

<div class="container">

<h1>MentionsInput</h1>


<div class="examples">
  <textarea class='mention' placeholder='Try to mention me, by typing @ken' style="height: 100px; line-height: 18px;"></textarea>
  <a class="button get-syntax-text">Get marked-up value</a>
  <a class="button get-mentions">Get mentions collection</a>
</div>

  </div>

  <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/dojo/1.9.1/dojo/dojo.js" data-dojo-config="async: 1, dojoBlankHtmlUrl: '/blank.html', packages: [ { name: 'custom', location: '/src' } ]"></script>
  <script type='text/javascript'>
  require(["custom/MentionsInput"], function (MentionsInput) {
    'use strict';

    var mentionsInput = new MentionsInput(document.querySelectorAll('textarea.mention')[0], {
      onDataRequest: function (mode, query, callback) {
        var data = [
          { id:1, name:'Kenneth Auchenberg', 'avatar':'http://cdn0.4dots.com/i/customavatars/avatar7112_1.gif', 'type':'contact' },
          { id:2, name:'Jon Froda', 'avatar':'http://cdn0.4dots.com/i/customavatars/avatar7112_1.gif', 'type':'contact' },
          { id:3, name:'Anders Pollas', 'avatar':'http://cdn0.4dots.com/i/customavatars/avatar7112_1.gif', 'type':'contact' },
          { id:4, name:'Kasper Hulthin', 'avatar':'http://cdn0.4dots.com/i/customavatars/avatar7112_1.gif', 'type':'contact' },
          { id:5, name:'Andreas Haugstrup', 'avatar':'http://cdn0.4dots.com/i/customavatars/avatar7112_1.gif', 'type':'contact' },
          { id:6, name:'Pete Lacey', 'avatar':'http://cdn0.4dots.com/i/customavatars/avatar7112_1.gif', 'type':'contact' },
          { id:7, name:'kenneth@auchenberg.dk', 'avatar':'http://cdn0.4dots.com/i/customavatars/avatar7112_1.gif', 'type':'contact' },
          { id:8, name:'Pete Awesome Lacey', 'avatar':'http://cdn0.4dots.com/i/customavatars/avatar7112_1.gif', 'type':'contact' },
          { id:9, name:'Kenneth Hulthin', 'avatar':'http://cdn0.4dots.com/i/customavatars/avatar7112_1.gif', 'type':'contact' }
        ];

        data = data.filter(function(item) {
          return item.name.toLowerCase().indexOf(query.toLowerCase()) > -1;
        });

        console.log('data', data);

        callback.call(this, data);
      }
    });

    document.querySelectorAll('.get-syntax-text')[0].addEventListener('click', function() {
      window.alert(mentionsInput.val());
    }, false);

    document.querySelectorAll('.get-mentions')[0].addEventListener('click', function() {
      var mentions = mentionsInput.getMentions();
      window.alert(JSON.stringify(mentions));
    }, false);

  });
  </script>


</body>
</html>
